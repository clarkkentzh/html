<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>函数的计算结果缓存</title>
  </head>
  <body>
    <script type="text/javascript">

      /*
      判断是否是偶数，是true,否false
      */

      function isEven(num){
        if(isEven.result === undefined){
          isEven.result = {};   //这个对象创建在函数的属性上
        }
        for(var key in isEven.result){
          if(key == num){
            return isEven.result[key];
          }
        }
        // console.log("*******************");
        var ret = true;
        // ret = (num % 2 === 0 ? true:false);
        for (var i = 2; i < num; i++){
          if (num % i == 0){
            ret = false;
            break;
          }
        }
        return isEven.result[num] = ret;
      }

      var start = Date.now();
      for (var i = 0; i < 10000; i++) {
        console.log(isEven(i));
      }
      var end = Date.now();
      // console.log(end - start);
      var s = end - start;
      //程序执行事件减少了１秒多
      // console.log("two--------------------------");
      start = Date.now();
      for (var i = 0; i < 10000; i++) {
        console.log(isEven(i));
      }
       end = Date.now();
      console.log(s);
      console.log(end - start);

    </script>
  </body>
</html>
